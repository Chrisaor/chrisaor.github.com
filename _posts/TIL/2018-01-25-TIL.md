---
layout: post
title:  "2018-01-25 TIL WPS 14."
date:   2018-01-25 11:30:00 +0900
categories: TIL
---

웹 크롤링시 속성의 인자를 가져오기

div의 class 속성을 가져오는 예		
주의 :  만약에 div의 class 속성이 존재하지 않을 때 span의 class속성을 가져와선 안된다.

```python
def get_tag_attribute(attribute_name, tag_string):
	p = re.compile(r'^<.*?{attribute_name)="(?P<value>.*?)".*?>'.format(attribute_name=attribute_name), re.DOTALL)
	m = re.search(p, tag_string)
	if m:
		return m.group('value')
	return ''
	
	
source = '<div><span class="abc">ASDF</span></div>'
result = get_tag_attribute('class', source)
```

만든 함수를 다른 파일로 따로 분리해 저장한다.
그 때 `__all__`로 다음과 같이 설정해주면 나중에 import할 때 필요한 함수만 import하고 re 모듈과 같이 불필요한 것은 불러오지 않아도 된다.

```
import re

__all__ = (
	'get_tag_attribute',
	'get_tag_content',
)

....

```


