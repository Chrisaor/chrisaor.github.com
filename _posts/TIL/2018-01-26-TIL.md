---
layout: post
title:  "2018-01-26 TIL WPS 15. 클래스 활용하기"
date:   2018-01-26 11:30:00 +0900
categories: TIL
---

인터프리터를 적극활용하자!

활용의 예)

```
In[1]: import os
In[2]: from bs4 import BeautifulSoup
In[3]: soup = BeautifulSoup(open('data/chart_realtime.html', 'rt').read(), 'lxml') 

In[4]: tr = soup.find('tr', class_='lst50')
 
In[5]: tr
Out[5]: tr에 해당하는 soup객체 목록 표시
In[6]: tr.find('a', class_='song_info')
Out[6]: <a class="btn...>...</a>
```

원하는 정규표현식의 결과가 나왔는지, soup객체에 원하는 결과가 들어있는지 곧즉시 확인할 수 있는 좋은 방법



```
url = f'http://www.melon.com/
params = {
	'song_id' : song_id,
}
song/detail.html'
response = requests.get(url, params)
soup = BeautifulSoup(response.text, 'lxml')

soup.find('div', class_='song_name').text

\n곡 명\n\t\t\t\t\t\\t\t\t\t\t\t\n\t\t\t\t\t\\t\t\t\Heart Shaker\n\t\t\t\t\t\t\t\
```

이런식으로 뜰때 해결방법

div.song\_name.contents[0]
div.song\_name.contents[1]
div.song\_name.contents[2]  
: 엔터를 기준으로(?) song\_name클래스에 내용을 보여줌
div.song\_name.strong : strong클래스의 내용을 가져옴  
div.song\_name.strong.next\_sibling : 해당 요소에 형제요소를 가져옴  
div.song\_name.strong.next\_sibling.strip() : 공백문자 제거  



get_text(strip=True) 받아온 텍스트의 양쪽 공백을 제거하는 메소드

ex) artest = div_entry.find('div', class_='artist').get_text(strip=True)




## 주말 숙제

```python
'producers': {
             '작사': ['별들의 전쟁'],
             '작곡': ['David Amber', 'Sean Alexander'],
             '편곡': ['Avenue52'],
         },
```