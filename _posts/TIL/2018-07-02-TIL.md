---
layout: post
title:  "2018-07-02 TIL(페이스북 로그인)"
date:   2018-07-02 14:20:00 +0900
categories: TIL
---

OAuth 방식 로그인 과정은 개략적으로 다음과 같다

![2018-07-03 12 15 51](https://user-images.githubusercontent.com/33015649/42172224-5f479db6-7e56-11e8-8de9-58da3e1cd6f2.png)

1. 유저가 우리 서버에 페이스북 로그인을 요청한다.
2. 그 요청을 받은 우리 서버는 페이스북 로그인 페이지로 리다이렉트 시켜준다.
3. 유저가 페이스북의 아이디와 비밀번호를 페이스북 사이트에서 로그인을 한다.
4. 로그인에 성공하면 GET요청으로 인증코드를 전달하는 동시에 유저 클라이언트로 redirect한다.
5. 받은 URI를 우리 서버에 요청함.
6. 우리 서버는 페이스북으로부터 받은 인증코드와 앱 ID, secret code를 페이스북으로 보낸다.
7. 보낸 코드는 액세스 토큰으로 변환되어 반환된다.
8. 액세스 토큰을 통해서  유저의 정보를 받고 유저를 로그인시킨다.

