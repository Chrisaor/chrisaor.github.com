---
layout: post
title:  "2018-10-09 TIL(네트워크  신호의 전달과 충돌)"
date:   2018-10-09 14:20:00 +0900
categories: TIL
---


### 11. 1계층의 역할과 개요

'파이프'인 케이블과 거기로 보내는 신호 등의 규칙에 따라 실제로 상대에게 '데이터'를 전달하는 역할을 한다.

[컴퓨터]-[INT(데이터를 신호로 변환)]----(케이블)-----[INT(신호를 데이터로 변환]-[컴퓨터]


### 12. 신호와 충돌

- 통신 속도는 '1초 동안의 신호의 횟수'와 '1회 신호의 비트수'로 정해진다.
- 1초간의 신호의 횟수 x 1신호에서의 비트수 = 통신속도(bps)
- 동선의 저항에 따라 **감쇠**됨. --> 증폭기 필요
- 어떤 원인에 의한 **노이즈, 간섭** --> 케이블에 실드 처리
- 신호가 보내지고 있는 도중에 다른 신호를 보내는 경우에 발생하는 **충돌**


### 13. 허브

- 신호의 증폭과 재생
- 복수의 기기를 연결해서 네트워크를 구축하는 기능
- Cascade Connection : 허브끼리 접속함으로써 신호가 도달하는 범위를 넓힐 수 있다.

#### 충돌 도메인

- 허브로 연결되어 있는 범위
- 허브는 수신한 신호에 대해 어떤 제어도 하지 않는다.
- Flooding : 수신한 포트 이외의 모든 포트에 수신한 신호를 송신함
- 같은 허브에 연결되어 있는 2대의 컴퓨터가 동시에 신호를 보내게 되면 허브에서 충돌이 발생함
- 충돌 도메인은 작아야 한다.

### 14. 2계층의 역할과 개요

- 세그먼트 범위에서의 어떻게 송,수신할지 생각(그 이상의 범위는 3계층)
- LAN용과 WAN용 규칙이 따로 적용됨

#### 이더넷(Ethernet)

- LAN의 사실표준
- Framing : 송수신되는 비트열에 의미를 주어 데이터로 취급할 수 있게함, preamble을 붙임.


### 15. 2계층 주소와 이더넷

#### 데이터 전송 방법

- 유니캐스트(Unicast) : 1대 1 데이터 통신
- 브로드캐스트(Broadcast) : 1대 전체(세그먼트 범위), 모두에게 메시지를 보내는 데이터 통신
- 멀티캐스트(Multicast) : 1대 다수, 지정된 복수의 기기로 메시지를 보냄
- 애니캐스트(Anycast) 생략

#### MAC주소(Media Access Control address)

- 인터페이스에 지정된 고정 주소
- 인터페이스마다 고유한 유니캐스트 주소를 갖는다.

### 16. 이더넷

이더넷에서는 '이더넷 헤더'와 '이더넷 트레일러'를 데이터그램에 붙여서 '이더넷 프레임'으로 캡슐화하고, 이 이더넷 프레임이 신호가 돼서 케이블로 전달됨

#### 이더넷 프레임

|수신처 <br>MAC 주소|송신처 <br>MAC 주소|타입|페이로드|FCS|
|:-:|:-:|:-:|:-:|:-:|
|48비트|48비트|16비트|368~12,000비트|32비트|
|-|-|페이로드에서 전송하는 데이터의 종류를 특정하는 값|이더넷 헤더와 트레일러에 의해 캡슐화 되는 3계층 PDU(전송되는 데이터)|에러 체크용 비트열|

#### 이더넷 동작

허브를 사용한 경우 데이터는 모든 기기에 도달하게 된다. 이더넷에서는 수신한 프레임의 수신처 MAC주소를 보고 자기에게 온 것 이외의 다른 프레임은 파기한다. 

충돌이 일어날 경우를 대비해서 CSMA/CD(Carrier Sense Multiple Access/Collision Detection)라는 액세스 제어를 시행함. 

### 17. 스위치

- 신호가 지나가는 길을 나누기 위한 기기, 허브대신 사용함
- 허브는 충돌 도메인 컴퓨터의 수가 많을 수록 송신->충돌->재송신->충돌... 효율이 아주 나빠짐.

#### MAC 주소 필터링

- 스위치 안에서 수신한 프레임을 따로따로 보낼 수 있도록 처리해서 충돌을 막는다.
- 프레임의 수신처 MAC 주소를 보고 그 MAC주소가 있는 포트만 프로엠을 송신함



### 18. 전이중 이더넷

#### 버퍼링
 - 충돌할 것 같은 프레임을 버퍼에 일 시적으로 저장해둠.
 - 버퍼의 용략이 부족할 경우 Back Pressure 또는 IEEE802.3x 규격을 사용해 송신을 조정함.

#### 전이중 이더넷

스위치를 사용하게 되면 굳이 반이중 통신인 CSMA/CD를 쓸 필요가 없게된다.

반이중 통신은 송신 중일 때는 수신 불가능한 방식이다. 스위치를 사용하면 동시에 송신과 수신을 할 수 있는 전이중 통신(Full-Duplex)이 가능하다. (단, 스위치와 컴퓨터와 인터페이스 양쪽 모두 전이중 이더넷 대응 제품이어야함)


 
 
 
 
 

